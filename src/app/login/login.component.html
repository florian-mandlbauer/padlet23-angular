
<style>
  html,
  body {
    height: 100%;
  }

  body {
    display: flex;
    align-items: center;
    padding-top: 40px;
    padding-bottom: 40px;
    background-color: #f5f5f5;
  }

  .form-signin {
    width: 100%;
    max-width: 330px;
    padding: 15px;
    margin: auto;
  }

  .form-signin .checkbox {
    font-weight: 400;
  }

  .form-signin .form-floating:focus-within {
    z-index: 2;
  }

  .form-signin input[type="email"] {
    margin-bottom: -1px;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

  .form-signin input[type="password"] {
    margin-bottom: 10px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
  }
</style>

<main *ngIf="!isLoggedIn()" class="form-signin" [formGroup]="loginForm" (ngSubmit)="login()">
  <form>
    <h1 class="h3 mb-3 text-center mt-5">Login</h1>

    <!-- EMAIL INPUT -->
    <div class="form-floating">
      <input type="email" id="username" class="form-control" placeholder="name@email.com"
             formControlName="username">
      <label for="username" class="text-muted">E-Mail</label>

      <!-- ERRORS AFTER INPUT -->
      <div *ngIf="loginForm.get('username')?.invalid && (loginForm.get('username')?.dirty || loginForm.get('username')?.touched) && loginForm.get('username')?.hasError('required')"
           class="alert alert-danger d-flex align-items-center my-3" role="alert">
        <div>
          Benutzername/E-Mail ist verpflichtend
        </div>
      </div>

      <div *ngIf="loginForm.get('username')?.invalid && (loginForm.get('username')?.dirty || loginForm.get('username')?.touched) && loginForm.get('username')?.hasError('email')"
           class="alert alert-danger d-flex align-items-center my-3" role="alert">
        <div>
          E-Mail Format überprüfen (z.B. user@email.com)
        </div>
      </div>
    </div>

    <!-- PASSWORD INPUT -->
    <div class="form-floating mb-3">
      <input type="password" class="form-control" id="floatingPassword" placeholder="Password" formControlName="password">
      <label for="floatingPassword" class="text-muted">Passwort</label>

      <!-- ERRORS AFTER INPUT -->
      <div *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)"
           class="alert alert-danger d-flex align-items-center my-3" role="alert">
        <div>
          Passwort ist verpflichtend
        </div>
      </div>
    </div>

    <button class="w-100 btn btn-lg btn-primary" type="submit" [disabled]="loginForm.invalid">Login</button>
  </form>
</main>

<div class="container px-4 py-5">
  <div *ngIf="isLoggedIn()">
    <button type="button" class="w-100 btn btn-lg btn-primary" (click)="logout()">Logout</button>
  </div>
</div>


